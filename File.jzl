// Program to test recursion, should panic at ~997 calls without tail recursion.

var foo = new Array(null)

foo[0] = function(x) {
    var f = foo[0]
    if x % 100000 == 0 {
        println("call #",x)
    }
    f(x + 1)
}

foo[0](0)