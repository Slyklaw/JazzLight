#[derive(Clone, PartialEq, Debug)]
#[repr(C)]
pub enum Opcode {
    LdInt(i64),
    LdFloat(f64),
    LdStr(String),
    LdTrue,
    LdFalse,
    LdNull,
    LdThis,
    LdField(u64),
    LdLocal(u32),
    LdGlobal(u32),
    LdEnv(u32),
    LdBuiltin(u32),
    LdIndex(u32),
    LdArray,

    SetLocal(u32),
    SetGlobal(u32),
    SetEnv(u32),
    SetField(u64),
    SetArray,
    SetIndex(u32),
    SetThis,
    Pop(u32),
    Apply(u32),
    Call(u32),
    TailCall(u32),
    ObjCall(u32),
    Jump(u32),
    JumpIf(u32),
    JumpIfNot(u32),
    Ret,
    MakeEnv(u32),
    MakeArray(u32),
    MakeArray2(u32),
    Bool,
    Not,
    IsNull,
    IsNotNull,
    Add,
    Sub,
    Mul,
    Div,
    Rem,
    Shl,
    Shr,
    UShr,
    Or,
    And,
    Xor,
    Eq,
    Neq,
    Lt,
    Lte,
    Gt,
    Gte,
    TypeOf,
    Cmp,
    PhysCompare,
    Hash,
    New,
    JumpTable,
    Last,
}

use std::fmt;
