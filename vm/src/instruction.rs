#[derive(Clone, Debug, Trace, Finalize, Hash, PartialEq)]
pub enum Instruction
{
    LdLoc(u16),
    StLoc(u16),
    LdGlob(u32),
    StGlob(u32),
    LdBool(bool),
    LdInt(i64),
    LdFloat(u64),
    LdString(String),
    LdNull,
    LdConst(u32),
    LdThis,
    LdArgs,
    Dup,
    Nop,

    Add,
    Sub,
    Div,
    Mul,
    Neg,
    Rem,
    Shr,
    Shl,
    Xor,
    BAnd,
    BOr,
    Or,
    And,
    /// Get hash of the value (used in LdFld and StFld)
    GetHash,
    LdFld,
    StFld,
    Invoke(u16),
    Tail(u16),
    Ret,
    MakeArray(u16),
    New(u16),

    Gt,
    Lt,
    Gte,
    Lte,
    Eq,
    Neq,

    Br(u16),
    Brz(u16),
    Brnz(u16),
}
